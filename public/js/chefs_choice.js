$(document).ready(function () {
  // $.get("/random_recipe", function (query_string) {
  //   console.log (query_string);

  //   $.ajax({                                                                            
  //     type: 'GET',
  //     url: query_string,
  //     dataType: 'jsonp',
  //     success: function (json) {
  //       parse_yummly_res (json);
  //     },
  //     error: function(e) {
  //      console.log(e); 
  //     }                                       
  //   });

  // });
  yummly_sample_res = {"attribution":{"html":"Recipe search powered by <a href='http://www.yummly.com/recipes'><img alt='Yummly' src='http://static.yummly.com/api-logo.png'/></a>","url":"http://www.yummly.com/recipes/","text":"Recipe search powered by Yummly","logo":"http://static.yummly.com/api-logo.png"},"totalMatchCount":47646,"facetCounts":{},"matches":[{"smallImageUrls":["http://lh5.ggpht.com/tv-5KJtRENvYQiYpTt3w_IbgAb6-sAC-BVEeXw67fYMNFb_kWL3BlHuIlk4NrJ8MYiB8ZiiYhB0TjBScZGKObQ=s90"],"ingredients":["flour","cheddar cheese","macaroni","breadcrumbs","unsalted butter","milk"],"flavors":{"sour":0.8333333333333334,"salty":0.6666666666666666,"sweet":0.6666666666666666,"meaty":1.0,"bitter":0.6666666666666666},"imageUrlsBySize":{"90":"http://lh4.ggpht.com/_2bfDhxMI7x7CbkEEI46pf1UAB5qYesaetEEvkcePZM5hG781uqvefw25pwx4RC612mDNXhXtGBJStovV0iu=s90-c"},"attributes":{},"totalTimeInSeconds":3600.0,"rating":5,"recipeName":"Basic Mac-n-Cheese","sourceDisplayName":"Food Republic","id":"Basic-Mac-n-Cheese-511544"},{"smallImageUrls":["http://yummly-recipeimages-compressed.s3.amazonaws.com/Flaky-Buttery-Biscuits-Martha-Stewart-192222-104966.s.png"],"ingredients":["baking powder","coarse salt","unsalted butter","all-purpose flour","milk"],"flavors":{"sour":0.6666666666666666,"salty":0.8333333333333334,"meaty":0.5,"bitter":0.5},"imageUrlsBySize":{"90":"http://lh3.ggpht.com/dfb33Qin-5lXrz0S36NAdUs-S5o0d8lAL1NGZsKB1JGdHHW08fAqR1aCF042UFDf58nmZL85-WP0flEdm7zlZfQ=s90-c"},"attributes":{"course":["Breads"]},"totalTimeInSeconds":2100.0,"rating":4,"recipeName":"Flaky Buttery Biscuits","sourceDisplayName":"Martha Stewart","id":"Flaky-Buttery-Biscuits-Martha-Stewart-192222"},{"smallImageUrls":["http://yummly-recipeimages-compressed.s3.amazonaws.com/Gooey-cinnamon-cake-310657-276063.s.jpg"],"ingredients":["baking powder","whole milk","flour","topping","ground cinnamon","unsalted butter","large eggs","salt","sugar","light corn syrup","vanilla extract"],"flavors":{"sour":0.5,"salty":0.5,"sweet":1.0,"meaty":0.5,"bitter":0.3333333333333333},"imageUrlsBySize":{"90":"http://lh6.ggpht.com/ADaIOqEewT2q5lIyf_FeYxFj-1obek1kz1rHT2p6AH8raQeucSY1GCZNYShErNaXJsyiCYReGjaFupT8FHzzPQ=s90-c"},"attributes":{},"totalTimeInSeconds":3300.0,"rating":5,"recipeName":"Gooey Cinnamon Cake","sourceDisplayName":"David Lebovitz","id":"Gooey-cinnamon-cake-310657"},{"smallImageUrls":["http://lh6.ggpht.com/oVQlhg41-EFLh1ggPyUOQXu8GJwptGW4Y91q64lbmdKnxsLmsyIn5cjC6EQlBG5ijLPZgqDJaUl5_SooV85EhA=s90"],"ingredients":["white bread","nutmeg","dijon mustard","gruyere cheese","unsalted butter","ham","all-purpose flour","milk"],"flavors":{"sour":0.8333333333333334,"salty":1.0,"sweet":0.6666666666666666,"meaty":0.6666666666666666,"bitter":0.8333333333333334},"imageUrlsBySize":{"90":"http://lh5.ggpht.com/JtiuuVCq0E7fG5BYys70PI169_h-0B2auXT78I6I8rVlrKbCZrT1Y6Tt_hcAAyQxEPfR3vjL8qJ60G6dCL4-Uw=s90-c"},"attributes":{},"totalTimeInSeconds":1800.0,"rating":5,"recipeName":"Simple Croque Monsieur","sourceDisplayName":"Food Republic","id":"Simple-Croque-Monsieur-512528"},{"smallImageUrls":["http://lh5.ggpht.com/MK5eR9OG3C5l0CVrpk6iadH_LcJecwj6ioCKDXZr8VVVOR6wOnAIzN0XacgqaNHr7hJJsmPIqbKthBdGIIo9Tw=s90"],"ingredients":["whole milk","lemon wedges","powdered sugar","kosher salt","unsalted butter","large eggs","granulated sugar","all-purpose flour"],"flavors":{"sour":0.3333333333333333,"salty":0.16666666666666666,"sweet":0.6666666666666666,"meaty":0.3333333333333333,"bitter":0.16666666666666666},"imageUrlsBySize":{"90":"http://lh3.ggpht.com/dNbBwWtlVgyJWloOVJIp1Syvi4IY2FW4zO6vcf4bIYhqfxVe99O7y9m2xj_IUiaZTBQd62W33uDMJWAN_5mQ0ik=s90-c"},"attributes":{"course":["Desserts"],"cuisine":["american"]},"totalTimeInSeconds":4200.0,"rating":0,"recipeName":"Basic CrÃªpes","sourceDisplayName":"Chow","id":"Basic-Crepes-508234"},{"smallImageUrls":["http://lh6.ggpht.com/IejfrotUd0ru7jbXWp8ovWz4Hdf8HSA0iByX0D-tblId9WsxO9jylLox1EHszlMzLaOsbAeDLEmxZejLcPYeHw=s90"],"ingredients":["black pepper","flour","kosher salt","top round steak","large eggs","gravy","milk","cayenne"],"flavors":{"sour":0.6666666666666666,"salty":0.5,"sweet":0.16666666666666666,"piquant":0.3333333333333333,"meaty":1.0,"bitter":0.5},"imageUrlsBySize":{"90":"http://lh5.ggpht.com/Y2lNHH6O3guqcISD47ZqZsfNEhTeIjHW6sFLqwehj7WN6y5iZiJ2dp8xTr8DWWmj6Fz4D4FzXWzSyCrp070JSg=s90-c"},"attributes":{},"totalTimeInSeconds":1500.0,"rating":5,"recipeName":"Chicken-Fried Steak (from my dad)","sourceDisplayName":"Homesick Texan","id":"Chicken-Fried-Steak-_from-my-dad_-530753"},{"smallImageUrls":["http://yummly-recipeimages-compressed.s3.amazonaws.com/Easy-cheddar-scones-306105-269435.s.jpg"],"ingredients":["baking powder","heavy cream","sunflower seed","eggs","unsalted butter","large eggs","salt","all-purpose flour","milk","sharp cheddar cheese"],"flavors":null,"imageUrlsBySize":{"90":"http://lh3.ggpht.com/Pv4z16d4wxnfv-vATy1HII0nFhVJrC_vjizZ1XqGoaJ6rl-JK7xSww34yAOiAo8U0lqQwBhgwSH230axwjhP7w=s90-c"},"attributes":{},"totalTimeInSeconds":2700.0,"rating":5,"recipeName":"Easy Cheddar Scones","sourceDisplayName":"Food Republic","id":"Easy-cheddar-scones-306105"},{"smallImageUrls":["http://yummly-recipeimages-compressed.s3.amazonaws.com/Cinnamon-Coffee-Cake-Martha-Stewart-194551-109121.s.png"],"ingredients":["melted butter","baking powder","flour","beaten eggs","cinnamon","salt","sugar","milk","vegetable shortening"],"flavors":{"salty":0.3333333333333333,"sweet":0.16666666666666666,"meaty":0.6666666666666666,"bitter":0.16666666666666666},"imageUrlsBySize":{"90":"http://lh6.ggpht.com/IP41I6dWUqmGYsv3DTCsJL_hU4Y6DE6IHVJ-boPJhGDw9dtL_TMkn6DAFwoS9H-t9suFe8GjFIOXX_lEhGWaWQ=s90-c"},"attributes":{"course":["Breads"]},"totalTimeInSeconds":3300.0,"rating":4,"recipeName":"Cinnamon Coffee Cake","sourceDisplayName":"Martha Stewart","id":"Cinnamon-Coffee-Cake-Martha-Stewart-194551"},{"smallImageUrls":["http://lh5.ggpht.com/5XXk98sRsSTLVVfketjfHftF7pOdRNHNvFgu6kcn8MUw43cDt3m1xaPbjNNsOEmPAm913AaUtov2WcBJGt1j-A=s90"],"ingredients":["boneless, skinless chicken breasts","baking soda","black pepper","baking powder","burger buns","chips","cayenne pepper","garlic powder","paprika","nonfat milk","unsalted butter","peanut oil","large eggs","salt","sugar","all-purpose flour","milk"],"flavors":{"sour":0.3333333333333333,"salty":1.0,"sweet":0.6666666666666666,"piquant":0.3333333333333333,"meaty":1.0,"bitter":1.0},"imageUrlsBySize":{"90":"http://lh3.ggpht.com/B0iOLM3ADYo0XfspqlLZ_fsoF7PGqkAZxCOnfjlC7SqreuHPk-g1kD4XHF8ASaGK_EU5QKf4dk-bDxcBKXVk1Q=s90-c"},"attributes":{"holiday":["summer"]},"totalTimeInSeconds":6300.0,"rating":5,"recipeName":"Chicken Filet Sliders","sourceDisplayName":"Food Republic","id":"Chicken-Filet-Sliders-512063"},{"smallImageUrls":["http://lh3.ggpht.com/ykvH-qk9wICq1DNbdOXZZf24XHCZ4Lkb2HW-oOpbeNbTvi_g1OWS4x64_Vuhc3omHf5ZxUz2529U3EvGnwfZXpw=s90"],"ingredients":["bread crumbs","smoked paprika","flour","macaroni","gruyere cheese","unsalted butter","salt","milk","ground black pepper"],"flavors":{"sour":0.8333333333333334,"salty":0.8333333333333334,"sweet":0.6666666666666666,"meaty":0.8333333333333334,"bitter":0.6666666666666666},"imageUrlsBySize":{"90":"http://lh3.ggpht.com/sOrfnBoMrIfJgoi-8s7WDCzDBulkjdks_Ak3iZ5Slwh20hFihtTa2JR8QjlQ7wI7ZHo2tm7N17ftslYJr9icKA=s90-c"},"attributes":{},"totalTimeInSeconds":3300.0,"rating":5,"recipeName":"Simple Mac-n-Cheese","sourceDisplayName":"Food Republic","id":"Simple-Mac-n-Cheese-512464"}],"criteria":{"excludedIngredients":null,"allowedIngredients":null,"terms":null}};
  parse_yummly_res (yummly_sample_res);
})



function parse_yummly_res (json) {
  console.log (json);
  console.log(json.attribution.html);
  $("#yummly-attribution").html(json.attribution.html);
}